{"ast":null,"code":"import API from \"../../myAxios/API\";\nimport Auth from \"../../modules/Auth\";\nexport const getCartByUserId = () => dispatch => {\n  let userId = Auth.getUserId();\n  dispatch({\n    type: GET_CART_BY_USERID_BEGIN\n  });\n  return API({\n    method: \"GET\",\n    url: `users/${userId}/cart`\n  }).then(res => {\n    dispatch({\n      type: GET_CART_BY_USERID_SUCCESS,\n      payload: res\n    });\n    return res;\n  }).catch(error => {\n    dispatch({\n      type: GET_CART_BY_USERID_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  });\n};\nexport const postCart = (productId, increase, decrease) => dispatch => {\n  let userId = Auth.getUserId();\n  dispatch({\n    type: POST_CART_BEGIN\n  });\n  return API({\n    method: \"POST\",\n    url: `users/${userId}/cart`,\n    data: {\n      userId,\n      productId,\n      increase,\n      decrease\n    }\n  }).then(res => {\n    dispatch({\n      type: POST_CART_SUCCESS,\n      payload: res\n    });\n    return res;\n  }).catch(error => {\n    dispatch({\n      type: POST_CART_FAIL,\n      payload: {\n        error\n      }\n    });\n    return error;\n  });\n};\nexport const addToCart = product => {\n  console.log('addtocart');\n  return dispatch => {\n    dispatch({\n      type: POST_CART_BEGIN\n    });\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        ...product\n      }\n    });\n  };\n};\nexport const removeFromCart = product => {\n  console.log(`removeFromCart`);\n  console.log(product);\n  return dispatch => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      payload: {\n        ...product\n      }\n    });\n  };\n};\nexport const restoreCartFromLocalStorage = () => {\n  const savedCart = localStorage.getItem('cart');\n  const cartData = savedCart ? JSON.parse(savedCart) : null;\n  return {\n    type: 'RESTORE_CART_LOCALSTORAGE',\n    payload: cartData\n  };\n};\nexport const POST_CART_BEGIN = \"POST_CART_BEGIN\";\nexport const POST_CART_SUCCESS = \"POST_CART_SUCCESS\";\nexport const POST_CART_FAIL = \"POST_CART_FAIL\";\nexport const GET_CART_BY_USERID_BEGIN = \"GET_CART_BY_USERID_BEGIN\";\nexport const GET_CART_BY_USERID_SUCCESS = \"GET_CART_BY_USERID_SUCCESS\";\nexport const GET_CART_BY_USERID_FAIL = \"GET_CART_BY_USERID_FAIL\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const RESTORE_CART_LOCALSTORAGE = \"RESTORE_CART_LOCALSTORAGE\";\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";","map":{"version":3,"names":["API","Auth","getCartByUserId","dispatch","userId","getUserId","type","GET_CART_BY_USERID_BEGIN","method","url","then","res","GET_CART_BY_USERID_SUCCESS","payload","catch","error","GET_CART_BY_USERID_FAIL","postCart","productId","increase","decrease","POST_CART_BEGIN","data","POST_CART_SUCCESS","POST_CART_FAIL","addToCart","product","console","log","ADD_TO_CART","removeFromCart","REMOVE_FROM_CART","restoreCartFromLocalStorage","savedCart","localStorage","getItem","cartData","JSON","parse","RESTORE_CART_LOCALSTORAGE"],"sources":["E:/lam ho/thuctapcuoi/Shop_User/src/redux/actions/cartAction.js"],"sourcesContent":["\r\n\r\nimport API from \"../../myAxios/API\";\r\nimport Auth from \"../../modules/Auth\";\r\n\r\nexport const getCartByUserId = () => dispatch => {\r\n  let userId = Auth.getUserId();\r\n  dispatch({\r\n    type: GET_CART_BY_USERID_BEGIN\r\n  });\r\n  return API({\r\n    method: \"GET\",\r\n    url: `users/${userId}/cart`\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_CART_BY_USERID_SUCCESS,\r\n        payload: res\r\n      });\r\n      return res;\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: GET_CART_BY_USERID_FAIL,\r\n        payload: { error }\r\n      });\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const postCart = (productId, increase, decrease) => dispatch => {\r\n  let userId = Auth.getUserId();\r\n  dispatch({\r\n    type: POST_CART_BEGIN\r\n  });\r\n  return API({\r\n    method: \"POST\",\r\n    url: `users/${userId}/cart`,\r\n    data: {\r\n      userId,\r\n      productId,\r\n      increase,\r\n      decrease\r\n    }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: POST_CART_SUCCESS,\r\n        payload: res\r\n      });\r\n      return res;\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: POST_CART_FAIL,\r\n        payload: { error }\r\n      });\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const addToCart = (product) => {\r\n  console.log('addtocart')\r\n  \r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: POST_CART_BEGIN\r\n    });\r\n    dispatch({\r\n      type: ADD_TO_CART,\r\n      payload: {\r\n        ...product\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const removeFromCart = (product) => {\r\n  console.log(`removeFromCart`);\r\n  console.log(product);\r\n  \r\n  \r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      payload: {\r\n        ...product\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const restoreCartFromLocalStorage = () => {\r\n  const savedCart = localStorage.getItem('cart');\r\n  const cartData = savedCart ? JSON.parse(savedCart) : null;\r\n  return {\r\n    type: 'RESTORE_CART_LOCALSTORAGE',\r\n    payload: cartData,\r\n  };\r\n};\r\n\r\n\r\nexport const POST_CART_BEGIN = \"POST_CART_BEGIN\";\r\nexport const POST_CART_SUCCESS = \"POST_CART_SUCCESS\";\r\nexport const POST_CART_FAIL = \"POST_CART_FAIL\";\r\n\r\nexport const GET_CART_BY_USERID_BEGIN = \"GET_CART_BY_USERID_BEGIN\";\r\nexport const GET_CART_BY_USERID_SUCCESS = \"GET_CART_BY_USERID_SUCCESS\";\r\nexport const GET_CART_BY_USERID_FAIL = \"GET_CART_BY_USERID_FAIL\";\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const RESTORE_CART_LOCALSTORAGE = \"RESTORE_CART_LOCALSTORAGE\"; \r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\"; \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}